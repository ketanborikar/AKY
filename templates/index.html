<script>
    const socket = io.connect(window.location.origin); 

    function sendMessage() {
        const name = document.getElementById("nameInput").value.trim();
        const message = document.getElementById("messageInput").value.trim();
        if (name && message) {
            socket.send(`${name}: ${message}`);
            document.getElementById("messageInput").value = "";  // Clears input after sending
        }
    }

    // Fix Enter key not working
    document.getElementById("messageInput").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();  // Stops default form behavior
            sendMessage();  // Calls the function to send a message
        }
    });

    socket.on("message", (msg) => {
        const messageElement = document.createElement("p");
        messageElement.textContent = msg;
        document.getElementById("chatBox").appendChild(messageElement);
    });
</script>
